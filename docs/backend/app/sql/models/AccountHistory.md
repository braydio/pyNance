# ðŸ“˜ `AccountHistory` Model

```markdown
# AccountHistory Model

## Purpose

Stores point-in-time snapshots of account balances for time series analysis and visualizations. Used for charts, forecasting, and audit of balance trends.

## Fields

- `id`: Primary key (UUID)
- `account_id`: FK to `Account`
- `user_id`: Redundant FK for ownership
- `date`: Snapshot date (normalized to UTC or user-local midnight)
- `balance`: Decimal or float balance at snapshot
- `source`: Enum (`plaid`, `teller`, `manual`, `forecast`)
- `is_projected`: Boolean â€” true if generated by forecast engine
- `created_at`: Audit timestamp

## Relationships

- Belongs to `Account`
- Linked indirectly to `User`

## Behaviors

- Periodically updated via sync engine
- Used to populate forecasting plots and dashboards
- Forecasted values flagged with `is_projected`

## Related Logic

- `forecast_balance.py`
- `forecast_logic.py`
- `sync_service.py`

## Related Docs

- [`docs/dataflow/balance_snapshots.md`](../../docs/dataflow/balance_snapshots.md)
- [`docs/models/Account.md`](../../docs/models/Account.md)
```
